# AssetStream Data Tables Guide

This document provides a comprehensive overview of each table (collection) in the AssetStream database, detailing the information that is required from a user for each entry.

---

### 1. Table: `users`

**Purpose:** Stores essential information about each registered user.

| Field               | User Provided? | Description                                                        | Example                          |
| :------------------ | :------------- | :----------------------------------------------------------------- | :------------------------------- |
| `uid`               | No             | Auto-generated by Firebase Authentication.                         | `aBCdEfgHiJkLmNoPqRsTuVwXyZ1`    |
| `email`             | **Yes**        | The user's email, provided at registration.                        | `user@example.com`               |
| `displayName`       | **Yes**        | The user's full name, provided at registration.                    | `Jane Doe`                       |
| `phoneNumber`       | **Yes** (Opt)  | The user's primary phone number.                                   | `+447700900123`                  |
| `photoURL`          | **Yes** (Opt)  | URL for the user's profile picture.                                | `https://.../photo.jpg`          |
| `address`           | **Yes** (Opt)  | The user's primary address (for mailing or non-homeowners).        | (See sub-table)                  |
| `role`              | **Yes**        | The role selected at registration.                                 | `homeowner`                      |
| `createdAt`         | No             | Auto-generated when the account is created.                        | `2024-01-01T10:00:00Z`           |
| `lastActive`        | No             | Auto-updated with the user's last activity.                        | `2024-08-01T12:30:00Z`           |
| `preferences`       | **Yes**        | User-specific settings like theme and notifications.               | (See sub-table)                  |
| `emergencyContacts` | **Yes** (Opt)  | A list of people to contact in an emergency.                       | (See sub-table)                  |

#### `address` (Sub-Fields)

| Field      | User Provided? | Description                      | Example          |
| :--------- | :------------- | :------------------------------- | :--------------- |
| `line1`    | **Yes**        | The first line of the address.   | `123 Oak Avenue` |
| `city`     | **Yes**        | The city or town.                | `Manchester`     |
| `postcode` | **Yes**        | The postal code.                 | `M1 2AB`         |

#### `preferences` (Sub-Fields)

| Field                 | User Provided? | Description                                   | Example |
| :-------------------- | :------------- | :-------------------------------------------- | :------ |
| `theme`               | **Yes**        | The user's preferred theme (`light` or `dark`). | `dark`  |
| `notifications`       | **Yes**        | Notification channel preferences.             | (See sub-fields) |

#### `emergencyContacts` (Sub-Fields)

| Field          | User Provided? | Description                            | Example        |
| :------------- | :------------- | :------------------------------------- | :------------- |
| `name`         | **Yes**        | The contact's full name.               | `John Smith`   |
| `relationship` | **Yes**        | Their relationship to the user.        | `Neighbour`    |
| `phone`        | **Yes**        | The contact's phone number.            | `07700900456`  |

---

### 2. Table: `properties`

**Purpose:** Contains the core details for each property a user manages.

| Field             | User Provided? | Description                                       | Example                              |
| :---------------- | :------------- | :------------------------------------------------ | :----------------------------------- |
| `ownerIds`        | No             | Automatically linked to the `users.uid`.          | `['aBCdEfg...']`                     |
| `address`         | **Yes**        | The full, normalized street address.              | (See `address` sub-fields above)     |
| `propertyType`    | **Yes**        | The type of property (e.g., `detached`, `flat`).  | `detached`                           |
| `yearBuilt`       | **Yes** (Opt)  | The year the property was constructed.            | `1985`                               |
| `lotSizeSqFt`     | **Yes** (Opt)  | The size of the land lot in square feet.          | `5000`                               |
| `sizeSqFt`        | **Yes**        | The property size in square feet.                 | `1200`                               |
| `bedrooms`        | **Yes**        | The number of bedrooms.                           | `3`                                  |
| `bathrooms`       | **Yes**        | The number of bathrooms.                          | `2`                                  |
| `purchasePrice`   | **Yes**        | The original purchase price.                      | `350000`                             |
| `purchaseDate`    | **Yes**        | The date the property was purchased.              | `2020-06-15T00:00:00Z`               |
| `images`          | **Yes** (Opt)  | Photos of the property.                           | (See sub-table)                      |

#### `images` (Sub-Fields)

| Field     | User Provided? | Description                        | Example |
| :-------- | :------------- | :--------------------------------- | :------ |
| `url`     | **Yes**        | The URL of the uploaded photo.     | `https://.../photo.jpg` |
| `caption` | **Yes** (Opt)  | A caption for the photo.           | `Garden View` |

---

### 3. Table: `assets` (sub-collection of `properties`)

**Purpose:** Tracks all tangible assets within a specific property.

| Field            | User Provided? | Description                                       | Example                       |
| :--------------- | :------------- | :------------------------------------------------ | :---------------------------- |
| `name`           | **Yes**        | The name of the asset.                            | `Vaillant EcoTec Plus Boiler` |
| `category`       | **Yes**        | The category of the asset (e.g., `Appliance`).    | `Plumbing`                    |
| `location`       | **Yes**        | The room or area where the asset is located.      | `Utility Room`                |
| `condition`      | **Yes** (Opt)  | The current condition of the asset.               | `Good`                        |
| `purchasePrice`  | **Yes** (Opt)  | The original cost of the asset.                   | `1800.00`                     |
| `currentValue`   | **Yes** (Opt)  | The estimated current value.                      | `1200.00`                     |
| `imageUrl`       | **Yes** (Opt)  | A photo of the asset.                             | `https://.../boiler.jpg`      |
| `modelNumber`    | **Yes** (Opt)  | The manufacturer's model number.                  | `ETEC-24`                     |
| `serialNumber`   | **Yes** (Opt)  | The unique serial number.                         | `211020001018651`             |
| `purchaseDate`   | **Yes** (Opt)  | The date the asset was purchased.                 | `2021-08-15T00:00:00Z`        |
| `warrantyExpiry` | **Yes** (Opt)  | The date the manufacturer's warranty expires.     | `2026-08-14T00:00:00Z`        |

---

### 4. Table: `maintenanceTasks` (sub-collection of `properties`)

**Purpose:** Manages all scheduled and completed maintenance jobs for a property.

| Field          | User Provided? | Description                                       | Example                 |
| :------------- | :------------- | :------------------------------------------------ | :---------------------- |
| `title`        | **Yes**        | A short description of the task.                  | `Annual Boiler Service` |
| `assetId`      | **Yes** (Opt)  | Links the task to a specific asset.               | `{assetId}`             |
| `contractorId` | **Yes** (Opt)  | Links the task to a specific contractor.          | `{contractorId}`        |
| `status`       | **Yes**        | The current status (`Scheduled`, `In Progress`).    | `Scheduled`             |
| `priority`     | **Yes**        | The priority level (`High`, `Medium`, `Low`).     | `High`                  |
| `frequency`    | **Yes**        | How often the task repeats (`Annually`, etc.).    | `Annually`              |
| `scheduledDate`| **Yes**        | The date the task is scheduled.                   | `2024-11-15T00:00:00Z`   |
| `estimatedCost`| **Yes** (Opt)  | The quoted cost for the job.                      | `100.00`                |
| `actualCost`   | **Yes** (Opt)  | The final cost upon completion.                   | `95.00`                 |
| `beforeAfterImages` | **Yes** (Opt) | Photos of the work before and after.           | `['https://.../before.jpg']` |

---

### 5. Table: `documents` (sub-collection of `properties`)

**Purpose:** A central repository for all files related to a property.

| Field           | User Provided? | Description                                     | Example                          |
| :-------------- | :------------- | :---------------------------------------------- | :------------------------------- |
| `name`          | **Yes**        | The name of the file being uploaded.            | `Boiler-Manual.pdf`              |
| `storagePath`   | No             | The path to the file in Cloud Storage.          | `documents/{userId}/{docId}.pdf`   |
| `type`          | **Yes**        | The category for the document (`Manual`, `Warranty`). | `Manual`                         |
| `size`          | No             | The size of the file in bytes.                  | `5800000`                        |
| `uploadedAt`    | No             | The timestamp when the document was uploaded.   | `2024-02-20T00:00:00Z`           |
| `linkedAssetId` | **Yes** (Opt)  | Links a document to a specific asset.           | `{assetId}`                      |
| `linkedTaskId`  | **Yes** (Opt)  | Links a document to a maintenance task.         | `{taskId}`                       |

---

### 6. Table: `expenses` (sub-collection of `properties`)

**Purpose:** Logs all financial transactions for a property.

| Field            | User Provided? | Description                                          | Example                  |
| :--------------- | :------------- | :--------------------------------------------------- | :----------------------- |
| `description`    | **Yes**        | A description of the transaction.                    | `Council Tax`            |
| `amount`         | **Yes**        | The monetary value of the expense.                   | `180.00`                 |
| `category`       | **Yes** (AI)   | The expense category (can be auto-suggested).        | `Utilities`              |
| `date`           | **Yes**        | The date of the transaction.                         | `2024-08-01T00:00:00Z`   |
| `paymentMethod`  | **Yes** (Opt)  | How the expense was paid.                            | `Direct Debit`           |
| `vendor`         | **Yes** (Opt)  | The recipient of the payment.                        | `Manchester City Council`|
| `taxDeductible`  | **Yes**        | Whether the expense is tax deductible.               | `true`                   |
| `receiptUrl`     | **Yes** (Opt)  | A URL to the uploaded receipt.                       | `https://.../receipt.jpg`|
| `isRecurring`    | **Yes**        | Flag to distinguish one-off vs. recurring bills.     | `true`                   |
| `recurringDetails` | **Yes**      | Details for recurring bills if `isRecurring` is true. | (See sub-table)          |

#### `recurringDetails` (Sub-Fields)

| Field       | User Provided? | Description                                | Example     |
| :---------- | :------------- | :----------------------------------------- | :---------- |
| `frequency` | **Yes**        | How often the bill occurs (`monthly`, `yearly`). | `monthly`   |
| `startDate` | **Yes**        | The date the recurring payment begins.     | `2024-04-01T00:00:00Z` |

---

### 7. Table: `contractors`

**Purpose:** A central database for all service providers and contractors.

| Field            | User Provided? | Description                                    | Example                |
| :--------------- | :------------- | :--------------------------------------------- | :--------------------- |
| `name`           | **Yes**        | The name of the contractor or company.         | `ABC Gas Services`       |
| `specialization` | **Yes**        | The primary trade of the contractor.           | `Plumbing & Heating`   |
| `contactPerson`  | **Yes** (Opt)  | The name of the primary contact.               | `Dave Smith`           |
| `phone`          | **Yes**        | The main contact phone number.                 | `0161 123 4567`        |
| `email`          | **Yes** (Opt)  | The main contact email address.                | `contact@abcgas.co.uk` |
| `address`        | **Yes** (Opt)  | The contractor's business address.             | (See `address` sub-fields) |
| `notes`          | **Yes** (Opt)  | Private notes about the contractor.            | `Reliable and fair pricing.`|
| `addedBy`        | No             | The UID of the user who first added them.      | `aBCdEfg...`           |
